(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[23],{643:function(t,e,i){"use strict";i.r(e),e.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAPtUlEQVR4Xu1dZ8xmRRV+WBWjERVjiysqgYRgFFvWxAYYMRopoixg+0WxgxVsWBF7oygW8I8VEAsL2JWixrDGgkZCsoKKa8gSK0ZiA/Nk52Pf3X3f786c995p5zl/vh/vzNyZ58zznXvunDlnF0iEgBBYiMAuwkYICIHFCIgg2h1CYBUERBBtDyEggmgPCAEbArIgNtzUywkCIogTRWuZNgREEBtu6uUEARHEiaK1TBsCIogNN/VygoAI4kTRWqYNARHEhpt6OUFABHGiaC3ThoAIYsNNvZwgIII4UbSWaUNABLHhpl5OEBBBnChay7QhIILYcFMvJwiIIE4UrWXaEBBBbLiplxMERBAnitYybQiIIDbc1MsJAiKIE0VrmTYERBAbburlBAERxImitUwbAiKIDTf1KovAfQDsBuC6qachgkyNsMYfE4G9AZwMYD2ABwO4eczB540lgkyNsMYfA4EnATgJwCEAuGdPB/DKMQYeGkMEGUJIv5dCYA2AIwC8FsBjZyZxK4AHAdicY2IiSA6U9YwUBO4K4BgArwaw55yO5wF4TsqAy7QVQZZBT33HRICO9ysAvATAvVYZ+BEArh7zwauNJYLkQlrPWYQAHe/XA3gBgDsPwHQZgCfnhFIEyYm2njWLwAHBvzg4ON4x6NBJvySm4VhtRJCxkNQ4MQjQ8eYnWjre62I6zLS5FsC+AG5L7LdUcxFkKfjUORIBOt7HAXgVgIdE9tmx2bEAPm3sa+4mgpihU8cIBOh487yCjvfuEe0XNdkCYA8A/15iDFNXEcQEmzoNILBPOPF+foTjHQPmmwC8K6bh2G1EkLER9T3egcG/eEaC4z2E2C0A1gL4y1DDKX4XQaZA1deYdwBwZCDGYyZY+hnhfGSCoYeHFEGGMVKL+QjQ8T4+ON4MHJxCsoaVzFuACDKFWvse8/7hP/qLAdxz4qWeD+DoiZ+x6vAiSEn023o2He/XAaDjvWumqWcNK5EFyaTVzh7D0A6Gmj99RMc7BqLLAdDpLyqyIEXhr/bhdLyPCo73owvN8lAAFxd69u2PFUFKa6Cu598tnHjzcG8qxztmxUXCSvSKFaMan23oeJMUL8rgeMcgzK9j58Q0nLqNLMjUCNc9/kODf/G8jI73ECLFwkpkQYZU4+f3pwT/go53bXIKgNNqmZQsSC2amH4edLx5psBQ80dN/zjTE4qGlciCmHTWfCc63i8Mh3tMdlCznAXghJomKAtSkzbGnQsdb96/oON9j3GHnmQ0hpXw+u31k4xuHFQEMQJXcTc63jzxfi6AO1U8zx2ndkE4e6lqyiJIVepYajIHBf/iaUuNUq4zc19tLPf4+U8WQWrTSNp87hhyRL0GwCPTulbV+koA+1c1ozAZEaRGrQzPiY43fQvmkeJV1NblMAAbalyECFKjVhbP6QHB8eZXqbu3NfWFs60mrGTeDEWQNnYZHW8mV2PKzZYc7xh0SfZPxTQs0UYEKYF6/DOfGkJB+LdHqSqsRBakjS1Gx5ufaHnivV8bUzbP8s0A3mnunaGjLEgGkCMfQZ9i5cT7gZF9Wm5WXViJLEid24mON1P9M8S7F8c7BumPAnh5TMOSbWRByqH/8JBcjY43X6s8SZVhJbIgdWxBnnTTv+DJt1f5UsilVf36ZUHyqIifZlccb1oO71JlWIksSP5tSZ+C+aNODOkz88+gvif+AACLcjYhsiDTqIlfoRhqTseb9bwl2xA4HMDXWgFEBBlXU3x94ok3U+Z4c7xjkORdj71yF8GJmdiiNiLIMuht68u73XS8eddbshgBBlh+siWARBC7tuh4Mw0nQ80fZh/GTU+WL+Atx+xFcJZBWARJR4+ONysm0fHmIZ8kDoG3AnhHXNN6Wokg8bqg401rwVp7vI8hiUegibCSecsRQYaVTMf7DeFgS473MF7zWnwMwMtsXcv2EkFWx58p/6/JnNW87I4Y/+nNhJXIgqQrn/lhWX5YYkfgywCOsHcv21MWZDH+9wVwQ0U5a8vuFPvTmwkrkQVJUzIv8rD8sMSOwA8BPNHevXxPWZD5OrgLgM0Adi+voqZn8CwAX215BSLIfO0xPyzLD0vsCDQXVqJXrDhlrwGwCcCecc3VagECjGL+ROvoyILsrMEjAbD8sMSOQJNhJbIgcQq/CsC6uKZqtQCBtwF4ew/oyIJsr0V+cWGe2FShv8LYLMlWBO4N4E89gCGCbK/FiwCw/HCKfC+EuR8TCk96x/RsAC9NAbDmtt6VOasba1jJ4wD8OAzknSS3hQtRVRXBWYaAIsg29JgflpG6KbJiPWb7eCbJVwA8OwXA2tuKIFs1ZA0rmbUeIgnQdFjJPLKKIFtRORUAyw+nyDzr4ZkkPwLwhBQAW2grggDWsJJF1sMrSfhqxVesrkQE2Zof9sxErQ5ZD28k6SKsRK9YOyNgDSuJsR6eSMLPuvy82514tyDrAbD8cIqkWA8PJOkmrEQWZGcELGElqdajd5IwpIShJV2KZwvC/LBXJGrVaj16JQlzXDHXFa1Il+KZIMwPy/LDKbKM9eiRJAxnZ1h7t+KVILzr8ZvEbCVjWI+eSNJdWIl8kG0I8D8f6wGmyFjWoxeS8Cotr9R2LR4tiCWsZGzr0QNJeDWASRm6Fo8EYX5Ylh9OkSmsR8sk2YitcVfdizeCWMJKprQerZKEieCYEK578UYQnviy/HCKTG09WiMJw0r2BsCUot2LJ4JYwkpyWY+WSMIk1ExG7UI8EYSvBSw/nCI5rUcLJOGB4FoALGfgQjwRJDWspIT1qJ0k/MDBQjhuxAtBeJGH5YdTpJT1qJUk3YeVzNscXgjCQ61nJrCjtPXYkSTnJsx9qqYsvskinK7EA0EsYSU1WI/ZjciaiCUdYxdhJV4tyMcT//PVZD1qIQkDOw93ZTrCYnu3ICxfcGNiEZzarEcNJOHVgFQfrgs+9U4QXuZ5S4KmarUeJUniJqzE2yvWrsF6pBTBqdl6lCIJs92nnh8l/E+qu2nPFiTVsW3BeuQmiauwEk8WxBJW0or1yEkSpkRKjV2r2yQkzq5XC8IkZhcmYNGa9chBEndhJZ4sSGpYSYvWY2qSsMpv6r2ZhP9JbTTt0YI8PvGmW8vWYyqSMKxkDwBb2tjG082yR4LwIk/KXenWrccUJGEpiNQ7+9Pt0oIj90aQ1LCSXqzHmCRhWMm+AK4tuC+reXRvBGF+2JQ8TT1Zj7FIssGQL6yaDT32RHoiCAtH3pQA0HcBHJTQvqWmvHt/KYADDZPe31jI1PCo+rv0RBBe5EnJEduj9SAxeO/+5FA1K3UHug4r6fkzb2pYSW++x7LEWNkbRxmy3aeSsKn2vVgQ+h0p9Sl6sR5jEYOb1n1YSa8WhCRnnl1+wYqRHqzHmMRYwewEAGfFAOipTQ8WhBd5UmrjtWw9piAG97vCShawvgeCMD8sT89jpFXrMRUxVjA7zVDlNwbv5tu0TpB1ABh3FSutWY+piUHcFFayyu5pnSCM2GXkboy0ZD1yEGMFs3MAHB8DoMc2LROETvkmALz7ESMtWI+cxCBmCisZ2DktE4RpcHhrMEZqtx65ifHfcN7xbgC/jAHQa5tWCZKaraRW65GbGDcD4CvVhwD8weumT1l3qwRhphJmLImRGq1HbmL8EcAZ4TD17zGgqc1WBFokSGpYSU3WIzcxfgXgAwA+D+A/2vTpCLRIEOaHZbbEGKnFeqwQ4yQA94uZ+JJtGKlMYnxjyXHcd2+NIKlhJaWtR05i0PE+D8B75XiPx+vWCMIM7czUHiMlrUdOYtDx5hXZDwKgryEZEYHWCHIlAJYfjpES1iMnMTYDOB0Aa77L8Y7ZEYY2LREkJawkt/XISYyrg7Wg483XKsmECLREEOaHZZ3BGMllPUgMHlbyBt/Uzvd3ALwfwLdiAFCbcRBohSApYSU5rEcuYvDTLB3v98nxHmfDp47SCkF4kYflh2NkSuuRixj0Keh488RbjneM1idq0wJBGFZCh5Sbc0imsh65iMHwDzrerAcox3tI2xl+b4EgzA/L8sMxMrb1yEWMXwTH+wtyvGPUnK9N7QRhWMkNkSlsxrQeuYhBh5sn3t/Op3I9KQWB2gnCizx83YiRMaxHDmLQ8f4igPcA+HXMwtSmHAI1E4RzuwbAPhHwLGs9chDjb4HsH5HjHaHRSprUTJDDALD8cIxYrUcOYvAVceXE+x8xi1GbehComSBXAGD54SGxWI8cxPh58C94jqET7yEtVvp7rQRJCStJsR45iPHNQAyefEsaR6BWglwAYH0EtrHWY2pi0PFmbBRPvOV4RyiulSY1EiQlrGTIekxNDDrejKb9cKjJ3oreNc9IBGokyJkAWH54SFazHlMT4/cA+DWK4SByvIc01fDvtREkJaxknvWYmhg/m3G8/9ew3jX1SARqI8gpAE6NmPuO1mNqYvBuN0PN+VyJIwRqIkhKWMmK9ZiSGMxZS8ebJ94qaOmIFLNLrYkgx4V3+iFV8L/4IRNeVPprcLzpY9w4NBn93jcCNRGEn0dZfnhI+AmYhSbHvsFHx5v3L+h4/3NoEvrdBwK1EORQABcVgvynwfE+H4Ac70JKqPWxtRDk8mAVcuHErOZfD8T4fq6H6jntIVADQfYDwAtDOYSO9+dCcjU53jkQb/wZNRCEwXwsPzylsAYf05UygbMc7ymR7mzs0gRJCSuxQP/bmRNvOd4WBJ33KU0Q/kdn+eGx5SfBv2AuLTneY6PraLySBEkJK4lRCR3vSwMxLovpoDZCYAiBkgR5IwCWH15W/gXgsyEURI73smiq/3YIlCJISljJIpXR8T47+Bg3Sa9CYAoEShHk2FArz7Km68P9i3N14m2BT31SEChBkJRsJbNr2TjjeN+aski1FQJWBEoQ5GAAF0dOmI73JcG/YBIHiRDIikAJgvAL0wEDq6Tj/Zlw4r0pKyJ6mBCYQSA3QYbCSv4cHG/mkZLjra1aHIHcBGHKzaPnrPq6Gcf7luKoaAJCICCQkyBrAfDOxZoZ9K8KjveFAOR4a1tWh0BOgvC16UQAdLw3BGKwKKdECFSLQC6C7AbgdwAYG8XkanK8q90SmtgsArkIshcA1vPeIviFQEsI5CJIS5horkLgdgREEG0GIbAKAiKItocQEEG0B4SADQFZEBtu6uUEARHEiaK1TBsCIogNN/VygoAI4kTRWqYNARHEhpt6OUFABHGiaC3ThoAIYsNNvZwgIII4UbSWaUNABLHhpl5OEBBBnChay7QhIILYcFMvJwiIIE4UrWXaEBBBbLiplxMERBAnitYybQiIIDbc1MsJAiKIE0VrmTYERBAbburlBAERxImitUwbAiKIDTf1coKACOJE0VqmDQERxIabejlB4P8CUznn+c5ZlAAAAABJRU5ErkJggg=="},644:function(t,e,i){},699:function(t,e,i){"use strict";i.r(e);var n=i(28),a=i(29),r=i(31),s=i(30),c=i(0),A=i(53),g=i(125),h=i.n(g),o=(i(145),i(68)),E=i(144),C=(i(642),i(686)),l=i(668),I=i(552),v=i(667),B=i(666),w=i(143),u=i(414),d=i(134),k=i(6),p=function(t){Object(r.a)(c,t);var e=Object(s.a)(c);function c(){var t;Object(n.a)(this,c);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).params={krigingModel:"exponential",krigingSigma2:0,krigingAlpha:100,canvasAlpha:.75,colorList:["#d62018","#da5018","#dd6f19","#e5ac25","#EEFD5F","#d8f82a","#adf82a","#97e50f","#75db2b","#54cf31"]},t.krigingCDN="https://cdn.jsdelivr.net/npm/kriging@0.1.12/dist/kriging.js",t.initMap=function(){t.map=new C.a({target:"openMap",view:new l.a({projection:"EPSG:4326",zoom:8.3})}),t.getMapJson(1e5)},t.getMapJson=function(e){Object(w.b)(e).then((function(e){if(t.extent){var i=[],n=[],a=[];return e.features.forEach((function(t){i.push(t.properties.center[0]),n.push(t.properties.center[1]),a.push(100*Math.random(0,1))})),void t.drawKriging(i,n,a)}t.coord=e.features[0].geometry.coordinates[0];var r=new I.a(t.coord);t.extent=r.getExtent(),t.getMapJson(e.features[0].properties.adcode)}))},t}return Object(a.a)(c,[{key:"componentDidMount",value:function(){var t=Object(E.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(d.a)(this.krigingCDN);case 3:test?(this.kriging=test.kriging,this.initMap()):o.b.error("\u52a0\u8f7d\u8d44\u6e90\u5931\u8d25"),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0),o.b.error(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,6]])})));return function(){return t.apply(this,arguments)}}()},{key:"drawKriging",value:function(t,e,i){var n=this.params;t.length<=3&&this.$message.warning("\u63d2\u503c\u70b9\u6570\u4e0d\u8db3\uff0c\u65e0\u6cd5\u8fdb\u884c\u63d2\u503c\u5206\u6790");var a=this.kriging.train(i,t,e,n.krigingModel,n.krigingSigma2,n.krigingAlpha),r=this.kriging.grid(this.coord,a,(this.extent[2]-this.extent[0])/200);this.canvasLayer&&this.map.removeLayer(this.canvasLayer),this.canvasLayer=this.drawCanvas(r),this.map.addLayer(this.canvasLayer),this.map.getView().setCenter(Object(u.u)(this.extent)),this.initLegend()}},{key:"drawCanvas",value:function(t){var e=this,i=this.params;return new v.a({source:new B.a({canvasFunction:function(n,a,r,s,c){var A=document.createElement("canvas");return A.width=s[0],A.height=s[1],A.style.display="block",A.getContext("2d").globalAlpha=i.canvasAlpha,e.kriging.plot(A,t,[n[0],n[2]],[n[1],n[3]],i.colorList),A},projection:"EPSG:4326"})})}},{key:"initLegend",value:function(){var t=this.params,e=document.getElementById("canvas");if(!e||!e.getContext)return!1;for(var i=e.getContext("2d"),n=i.createLinearGradient(0,0,20,150),a=0,r=0;a<t.colorList.length;a++)n.addColorStop(r,t.colorList[a]),r<1&&(r+=.1);i.fillStyle=n,i.fillRect(0,0,20,150),i.font="14px bold",i.textAlign="start",i.textBaseline="middle",i.fillStyle="#666",i.fillText("100",25,10),i.fillText("0",25,145)}},{key:"render",value:function(){var t=i(643);return Object(k.jsxs)("div",{id:"openMap",children:[Object(k.jsx)("div",{className:"title",children:"\u5317\u4eac\u5e02\u6c14\u8c61\u707e\u5bb3\u5206\u6790\u56fe"}),Object(k.jsxs)("div",{className:"direction",children:[Object(k.jsx)("div",{className:"text-center",style:{fontSize:"1.3rem"},children:"N"}),Object(k.jsx)("img",{src:t.default,className:"northImg"})]}),Object(k.jsx)("canvas",{id:"canvas",width:"50",height:"150"})]})}}]),c}(c.Component),m=(i(644),function(t){Object(r.a)(i,t);var e=Object(s.a)(i);function i(){return Object(n.a)(this,i),e.apply(this,arguments)}return Object(a.a)(i,[{key:"render",value:function(){var t=this.props.tagShow;return Object(k.jsx)("div",{className:" relative",style:{height:t?"calc(100vh - 148px)":"calc(100vh - 102px)",width:"100%"},children:Object(k.jsx)(p,{})})}}]),i}(c.Component));e.default=Object(A.b)((function(t){return{tagShow:t.setting.tagShow}}))(m)}}]);