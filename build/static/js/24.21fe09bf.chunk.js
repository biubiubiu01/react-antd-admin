(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[24],{663:function(e,t,a){},697:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));a(440);var n=a(447),l=(a(145),a(68)),i=(a(523),a(557)),s=(a(672),a(673)),c=(a(96),a(52)),r=a(28),o=a(29),d=a(31),u=a(30),b=(a(591),a(551)),h=a(0),p=a(80);function g(e){return p.a.post("/table/tableList",e)}function f(e){return p.a.post("/table/deleteTable",e)}function j(e){return p.a.post("/table/batchDeleteTable",e)}var x=a(704),m=a(187),y=(a(674),a(664)),O=a(6),w=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.tableHead,n=t.tableData,l=t.loading,i=t.pagination,s=t.rowSelection,c=t.scroll;return Object(O.jsx)("div",{className:"tableCommon-wrapper",children:Object(O.jsx)(y.a,{columns:a,dataSource:n,loading:l,pagination:i,rowSelection:s,rowKey:"id",scroll:c,onChange:function(t){return e.props.changeCurrent(t.current)}})})}}]),a}(h.Component);w.defaultProps={tableHead:[],tableData:[],loading:!1};a(663);var v=b.a.Option,S=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),d=0;d<n;d++)o[d]=arguments[d];return(e=t.call.apply(t,[this].concat(o))).state={deleteLoading:!1,loading:!1,selectedRowKeys:[],currentEdit:{},editShow:!1},e.selectValue=[],e.filterList={page:1,size:15,total:0,status:""},e.typeOption=[{key:"\u5f85\u4ed8\u6b3e",label:"\u5f85\u4ed8\u6b3e"},{key:"\u5f85\u53d1\u8d27",label:"\u5f85\u53d1\u8d27"},{key:"\u5df2\u53d1\u8d27",label:"\u5df2\u53d1\u8d27"},{key:"\u5df2\u6536\u8d27",label:"\u5df2\u6536\u8d27"},{key:"\u5df2\u8bc4\u4ef7",label:"\u5df2\u8bc4\u4ef7"}],e.tableHead=[{title:"\u5e8f\u53f7",dataIndex:"index",scopedSlots:{customRender:"index"},width:60},{title:"\u7528\u6237id",dataIndex:"id",ellipsis:!0},{title:"\u4ed8\u6b3e\u4eba",dataIndex:"name"},{title:"\u8ba2\u5355\u72b6\u6001",dataIndex:"status"},{title:"\u4e0b\u5355\u65f6\u95f4",dataIndex:"date",ellipsis:!0},{title:"\u4ed8\u6b3e\u91d1\u989d",dataIndex:"money",scopedSlots:{customRender:"money"}},{title:"\u5907\u6ce8",dataIndex:"text",ellipsis:!0},{title:"\u64cd\u4f5c",scopedSlots:{customRender:"action"},width:140,render:function(t,a){return Object(O.jsx)(i.b,{size:"middle",children:Object(O.jsx)(s.a,{title:"\u4f60\u786e\u5b9a\u8981\u5220\u9664\u5f53\u524d\u5217\u5417?",okText:"\u662f",cancelText:"\u5426",onConfirm:function(){return e.handleDelete(t)},children:Object(O.jsx)(c.a,{type:"danger",size:"small",children:"\u5220\u9664"})})})}}],e.tableData=[],e.getTableData=function(){e.setState({loading:!0});var t=e.filterList;g({page:t.page,size:t.size,status:t.status}).then((function(t){var a=t.data||{};e.filterList.total=a.total||0,e.setState({tableData:a.list||[],loading:!1})}))},e.changeStatus=function(t){e.filterList.status=t},e.handleChangeCurrent=function(t){e.filterList.page=t,e.getTableData()},e.handleSearch=function(){e.filterList.page=1,e.getTableData()},e.handleSelect=function(t,a){e.setState({selectedRowKeys:t}),e.selectValue=a},e.batchDeleteTable=function(){0!=e.selectValue.length?(e.setState({deleteLoading:!0}),j({batchId:e.selectValue.map((function(e){return e.id})).join(",")}).then((function(t){e.getTableData(),l.b.success("\u6279\u91cf\u5220\u9664\u6210\u529f"),e.setState({deleteLoading:!1})}))):l.b.warning("\u8bf7\u81f3\u5c11\u52fe\u9009\u4e00\u9879")},e.handleDelete=function(t){f({id:t.id}).then((function(t){e.getTableData(),l.b.success("\u5220\u9664\u6210\u529f")}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getTableData()}},{key:"render",value:function(){var e=this.state,t=e.deleteLoading,a=e.tableData,l=e.loading,i=e.selectedRowKeys,s=this.tableHead,r=this.handleSelect,o=this.filterList;return Object(O.jsx)("div",{className:"table-wrapper",children:Object(O.jsx)(n.a,{title:Object(O.jsxs)("div",{slot:"title",className:"flex flex-wrap",children:[Object(O.jsx)(c.a,{type:"danger",icon:Object(O.jsx)(x.a,{}),loading:t,style:{margin:"0 16px 10px"},onClick:this.batchDeleteTable,children:"\u6279\u91cf\u5220\u9664"}),Object(O.jsxs)("div",{className:"filter-wrapper",style:{margin:"0 15px"},children:[Object(O.jsx)("span",{className:"label",children:"\u8ba2\u5355\u72b6\u6001\uff1a"}),Object(O.jsx)(b.a,{placeholder:"\u8ba2\u5355\u72b6\u6001",className:"select-width",allowClear:!0,onChange:this.changeStatus,children:this.typeOption.map((function(e){return Object(O.jsx)(v,{value:e.key,children:e.label},e.key)}))})]}),Object(O.jsx)(c.a,{type:"primary",icon:Object(O.jsx)(m.a,{}),style:{marginRight:"16px"},onClick:this.handleSearch,children:"\u67e5\u8be2"})]}),hoverable:!0,bordered:!1,children:Object(O.jsx)(w,{tableData:a,tableHead:s,loading:l,pagination:{pageSize:o.size,current:o.page,total:o.total,showTotal:function(e){return"".concat(o.total," \u6761")}},rowSelection:{selectedRowKeys:i,onChange:r},changeCurrent:this.handleChangeCurrent})})})}}]),a}(h.Component)}}]);